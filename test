import cv2
import numpy as np

# Load the images
img1 = cv2.imread('img1.jpg', 0)  # Load img1 in grayscale
img2 = cv2.imread('img2.jpg', 0)  # Load img2 in grayscale

# Get the dimensions of the template (img1)
h, w = img1.shape

# Perform template matching
res = cv2.matchTemplate(img2, img1, cv2.TM_CCOEFF_NORMED)

# Define a threshold (adjust as needed)
threshold = 0.8

# Find locations where the correlation coefficient is greater than the threshold
loc = np.where(res >= threshold)

# Draw rectangles around the matched regions
for pt in zip(*loc[::-1]):
    cv2.rectangle(img2, pt, (pt[0] + w, pt[1] + h), (0, 255, 255), 2)

# Display the result and count the number of matches
cv2.imshow('img2', img2)
print("Number of occurrences:", len(loc[0]))

cv2.waitKey(0)
cv2.destroyAllWindows()
