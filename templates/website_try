html
<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="initial-scale=1.0">
    <title>Python Flask Upload and display image</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='/mystyle.css') }}" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" />
    <script src="{{ url_for('static', filename='/magnifier.js') }}"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
</head>

<body style="background-color:#282828;color:whitesmoke; ">
    <h1 style="margin: 0px ;text-align: center; padding-top: 10px; padding-bottom: 10px; border-bottom: 2px solid whitesmoke; ">SIP Form Validation</h1>

    <div  class="row" style="height: 750px;">
        <div class="col-md-8" style="display: flex; flex-direction:column ; justify-content: center; align-items: center;">
            <h2>Select a file to upload</h2>
            <p>
                {% with messages = get_flashed_messages() %}
                {% if messages %}
            <ul>
                {% for message in messages %}
                <li>{{ message }}</li>
                {% endfor %}
            </ul>
            {% endif %}
            {% endwith %}
            </p>
            {% if filename %}
            <div class="img-magnifier-container"  style=" border: 4px solid white;text-align: center;height:70vh;width:80%;font:16px/26px Georgia, Garamond, Serif;overflow:auto;">
                <img id="myimage" 
                    src="{{ url_for('display_image', filename=filename) }}">
            </div>
            {% endif %}
            <form  style="margin-top: 15px;" id="upload_form" method="post" action="/" enctype="multipart/form-data">
                <!-- <p style="margin-top: 20px;"> -->
                    <input type="file" name="file" value="file" id="file" class="hidden" autocomplete="off" required>
                    <label for="file" class="btn btn-info"> Upload</label>
                    <input size="10em" type="submit" id="submit_btn" value="Submit" class="btn btn-info" style="display: none;" >
                    <input style="margin-left: 15px;" size="10em" type="submit" id="mag_btn" value="Magnifier" onclick="try1()" class="btn btn-info" >
                <p style="text-align: center;">
                </p>
            </form>

        </div>
        <div class="col-md-4" id="output_div">
            <h2>Output</h2>
            <div class="button-container">
                <button id="button1" class="first-button" onclick="toggleDiv(1)">VALID</button>
                <button id="button2" class="second-button" onclick="toggleDiv(2)">INVALID</button>
                <button id="button3" class="third-button" onclick="toggleDiv(3)">ALL</button>
            </div>
              
            <div  class="toggle-div" id="ot_text1">
                {% for item in inp %}
                {%if ("VALID".upper() in item.upper()) and  ("invalid".upper() not in item.upper())%}
                        <div style="font-size: 1.3em; ">{{ item }}</div>
                {%endif%}
                {% endfor %}
            </div>
            <div class="toggle-div" id="ot_text2">
                {% for item in inp %}
                {%if "invalid".upper() in item.upper()%}
                        <div style="font-size: 1.3em;">{{ item }}</div>
                {%endif%}
                {% endfor %}
            </div>
            <div class="toggle-div" id="ot_text3">
                {% for item in inp %}
                        <div style="font-size: 1.3em;">{{ item }}</div>
                {% endfor %}
            </div>

        </div>
    </div>
    <script>
        let flag = true;
        function try1() {
            if (flag) {
                magnify("myimage", 3);
                flag = false;
            } else {
                let glass = document.querySelector(".img-magnifier-glass");
                glass.parentElement.removeChild(glass);
                flag = true; 
            }
        }
        document.getElementById("file").onchange=function(){
            document.getElementById("upload_form").submit()
        }

    </script>
    
</body>

</html>

---------------------------------x----------------------------------------------------------------------------------
css
@media screen and (max-width: 769px) {
  #output_div {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    font-size: 11px;
  }
  #ot_text1,#ot_text2,#ot_text3 {
    padding-top: 1em;
    padding-left:6px ;
  }
  #myimage{
    height: 150%;
    width: 150%;
  }

}

@media screen and (min-width: 769px) {
  .img-magnifier-container {
    position: relative;
  }

  .img-magnifier-glass {
    position: absolute;
    border: 3px solid #000;
    cursor: none;
    width: 250px;
    height: 150px;
  }

  
  #ot_text1,#ot_text2,#ot_text3  {
    padding-top: 1.5em;
    
  }
  #output_div {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: start;
    font-size: 17px;
  }

}

.button-container {
  display: inline-block;
}

button {
  border: none;
  border-radius: 100px;
  padding: 10px 20px;
  cursor: pointer;
  transition: background-color 0.3s;
}

.first-button {
  border: 2px solid #000;
  background-color: beige;
  color: black;
  font-weight: bold;
  border-right: none;
}

.second-button {
  border-top: 2px solid #000;
  background-color: beige;
  color: black;
  font-weight: bold;
  border-bottom: 2px solid #000;
}

.third-button {
  border: 2px solid #000;
  color: black;
  background-color: beige;
  font-weight: bold;
  border-left: none;
}

.toggle-div {
  display: none;
  padding: 0px;
  border-radius: 100px;
}

.active {
  background-color: #000;
  color: lightblue;
}
---------------------------------------------------------x-------------------------------------------------------
js

function magnify(imgID, zoom) {
    var img, glass, w, h, bw;
    img = document.getElementById(imgID);

    /* Create magnifier glass: */
    glass = document.createElement("DIV");
    glass.setAttribute("class", "img-magnifier-glass");

    /* Insert magnifier glass: */
    img.parentElement.insertBefore(glass, img);

    /* Set background properties for the magnifier glass: */
    glass.style.backgroundImage = "url('" + img.src + "')";
    glass.style.backgroundRepeat = "no-repeat";
    glass.style.backgroundSize = (img.width * zoom) + "px " + (img.height * zoom) + "px";
    bw = 3;
    w = glass.offsetWidth / 2;
    h = glass.offsetHeight / 2;

    /* Execute a function when someone moves the magnifier glass over the image: */
    glass.addEventListener("mousemove", moveMagnifier);
    img.addEventListener("mousemove", moveMagnifier);

    /*and also for touch screens:*/
    glass.addEventListener("touchmove", moveMagnifier);
    img.addEventListener("touchmove", moveMagnifier);
    function moveMagnifier(e) {
        var pos, x, y;
        /* Prevent any other actions that may occur when moving over the image */
        e.preventDefault();
        /* Get the cursor's x and y positions: */
        pos = getCursorPos(e);
        x = pos.x;
        y = pos.y;
        /* Prevent the magnifier glass from being positioned outside the image: */
        if (x > img.width - (w / zoom)) { x = img.width - (w / zoom); }
        if (x < w / zoom) { x = w / zoom; }
        if (y > img.height - (h / zoom)) { y = img.height - (h / zoom); }
        if (y < h / zoom) { y = h / zoom; }
        /* Set the position of the magnifier glass: */
        glass.style.left = (x - w) + "px";
        glass.style.top = (y - h) + "px";
        /* Display what the magnifier glass "sees": */
        glass.style.backgroundPosition = "-" + ((x * zoom) - w + bw) + "px -" + ((y * zoom) - h + bw) + "px";
    }

    function getCursorPos(e) {
        var a, x = 0, y = 0;
        e = e || window.event;
        /* Get the x and y positions of the image: */
        a = img.getBoundingClientRect();
        /* Calculate the cursor's x and y coordinates, relative to the image: */
        x = e.pageX - a.left;
        y = e.pageY - a.top;
        /* Consider any page scrolling: */
        x = x - window.pageXOffset;
        y = y - window.pageYOffset;
        return { x: x, y: y };
    }
}
function toggleDiv(divNumber) {
    var divs = document.querySelectorAll('.toggle-div');
    divs.forEach(function(div) {
      div.style.display = 'none';
    });
  
    var buttons = document.querySelectorAll('button');
    buttons.forEach(function(button) {
      button.classList.remove('active');
    });
  
    var selectedDiv = document.getElementById('ot_text' + divNumber);
    selectedDiv.style.display = 'block';
  
    var selectedButton = document.getElementById('button' + divNumber);
    selectedButton.classList.add('active');
  }
  
